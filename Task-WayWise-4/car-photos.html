<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Photos of your car - WayWise</title>
    <link rel="stylesheet" href="/assets/css/style.css">
    <script src="https://kit.fontawesome.com/60d8b723d0.js" crossorigin="anonymous"></script>
    <script src="assets/script/script.js"></script>
    <link rel="icon" type="image/x-icon" href="assets/img/fevicon.png">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
   
</head>

<body>



    <div class="form-i">
        <center>
            <form action="" method="POST" enctype="multipart/form-data">
                <!-- Hidden input to include car_id in the form -->
                <input type="hidden" name="car_id" value="">
                <div class="adonsc new_" style="background-color: white;">
                    <h2 align="left" style="color: black;">Upload Photos of your car</h2>
                    <p align="left" class="steps_line">4 of 6 steps | Next: Location</p>
                    <div class="progress-bar">
                        <div class="progress-stage"></div>
                        <div class="progress-stage progress-stage--rounded"></div>
                        <!-- <div class="progress-stage"></div>
            <div class="progress-stage"></div>
            <div class="progress-stage"></div> -->
                    </div>
                    <p class="light-grey" style="color: black;" align="left">Please upload at least 5 photos of your car
                        from inside and
                        outside.</p><br>
                    <div class="input-group image_upload_grid" id="photoUploads"
                        style="gap: 10px; margin-bottom: 40px;">
                        <div class="photo-upload" style="margin: auto;">
                            <input type="file" id="fileInput1" name="files[]" accept="image/*" required
                                onchange="handleFileSelect(event, 1)">
                            <label for="fileInput1" id="labelInput1">
                                <span class="material-symbols-outlined" style="color: black; margin: 0;">add</span>
                            </label>
                            <div class="image-preview" id="preview1"
                                style="display: none; width: -webkit-fill-available; height: -webkit-fill-available;">
                                <img id="imgPreview1" src="" alt="Preview"
                                    style="width: 100%; height: 100%; position: relative;">
                                <svg onclick="removeFile(1)" style="position: absolute; top: 3px; right:3px;"
                                    xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                                    <path
                                        d="M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z" />
                                </svg>

                                <!-- <button style="background-color: green; outline: none; border: none; color: black;"
                                    type="button" onclick="removeFile(1)">Change</button> -->
                            </div>
                        </div>
                        <div class="photo-upload" style="margin: auto;">
                            <input type="file" id="fileInput2" name="files[]" accept="image/*" required
                                onchange="handleFileSelect(event, 2)">
                            <label for="fileInput2" id="labelInput2">
                                <span class="material-symbols-outlined" style="color: black; margin: 0;">add</span>
                            </label>
                            <div class="image-preview" id="preview2"
                                style="display: none; width: -webkit-fill-available; height: -webkit-fill-available;">
                                <img id="imgPreview2" src="" alt="Preview"
                                    style="width: 100%; height: 100%; position: relative;">


                                <svg onclick="removeFile(2)" style="position: absolute; top: 3px; right:3px;"
                                    xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                                    <path
                                        d="M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z" />
                                </svg>
                                <!-- <button style="background-color: green; outline: none; border: none; color: black;"
                                    type="button" onclick="removeFile(2)">Change</button> -->
                            </div>
                        </div>
                        <div class="photo-upload" style="margin: auto;">
                            <input type="file" id="fileInput3" name="files[]" accept="image/*" required
                                onchange="handleFileSelect(event, 3)">
                            <label for="fileInput3" id="labelInput3">
                                <span class="material-symbols-outlined" style="color: black; margin: 0;">add</span>
                            </label>
                            <div class="image-preview" id="preview3"
                                style="display: none; width: -webkit-fill-available; height: -webkit-fill-available;">
                                <img id="imgPreview3" src="" alt="Preview"
                                    style="width: 100%; height: 100%; position: relative;">
                                <svg onclick="removeFile(3)" style="position: absolute; top: 3px; right:3px;"
                                    xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                                    <path
                                        d="M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z" />
                                </svg>

                                <!-- <button style="background-color: green; outline: none; border: none; color: black;"
                                    type="button" onclick="removeFile(3)">Change</button> -->
                            </div>
                        </div>
                        <div class="photo-upload" style="margin: auto;">
                            <input type="file" id="fileInput4" name="files[]" accept="image/*" required
                                onchange="handleFileSelect(event, 4)">
                            <label for="fileInput4" id="labelInput4">
                                <span class="material-symbols-outlined" style="color: black; margin: 0;">add</span>
                            </label>
                            <div class="image-preview" id="preview4"
                                style="display: none; width: -webkit-fill-available; height: -webkit-fill-available;">
                                <img id="imgPreview4" src="" alt="Preview"
                                    style="width: 100%; height: 100%; position: relative;">

                                <svg onclick="removeFile(4)" style="position: absolute; top: 3px; right:3px;"
                                    xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                                    <path
                                        d="M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z" />
                                </svg>
                                <!-- <button style="background-color: green; outline: none; border: none; color: black;"
                                    type="button" onclick="removeFile(4)">Change</button> -->
                            </div>
                        </div>
                        <div class="photo-upload" style="margin: auto;">
                            <input type="file" id="fileInput5" name="files[]" accept="image/*" required
                                onchange="handleFileSelect(event, 5)">
                            <label for="fileInput5" id="labelInput5">
                                <span class="material-symbols-outlined" style="color: black; margin: 0;">add</span>
                            </label>
                            <div class="image-preview" id="preview5"
                                style="display: none; width: -webkit-fill-available; height: -webkit-fill-available;">
                                <img id="imgPreview5" src="" alt="Preview"
                                    style="width: 100%; height: 100%; position: relative;">

                                <svg onclick="removeFile(5)" style="position: absolute; top: 3px; right:3px;"
                                    xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                                    <path
                                        d="M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z" />
                                </svg>
                                <!-- <button style="background-color: green; outline: none; border: none; color: black;"
                                    type="button" onclick="removeFile(5)">Change</button> -->
                            </div>
                        </div>
                    </div>
                    <button class="go-ahead" onclick="showLoader()">
                        <a href="#">Save and Continue</a>
                        <div class="loader" id="loader"></div>
                    </button>
                </div>
            </form>
        </center>
    </div>


    <script>
        function handleFileSelect(event, index) {
            const input = event.target;
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    const imgPreview = document.getElementById('imgPreview' + index);
                    imgPreview.src = e.target.result;
                    document.getElementById('preview' + index).style.display = 'block';
                    document.getElementById('labelInput' + index).style.display = 'none';
                };
                reader.readAsDataURL(file);
            }
        }

        function removeFile(index) {
            document.getElementById('fileInput' + index).value = '';
            document.getElementById('preview' + index).style.display = 'none';
            document.getElementById('labelInput' + index).style.display = 'block';
            document.getElementById('fileInput' + index).click();
        }

       
    </script>
</body>

</html>